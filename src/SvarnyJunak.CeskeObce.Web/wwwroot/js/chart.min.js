(function(){function f(){document.querySelectorAll(".chart div span").forEach(function(n){n.style.visibility="initial";n.style.width=n.getAttribute("data-width")})}var n=[{year:2e3,population:100},{year:2001,population:102},{year:2002,population:103}],t=n.reduce(function(n,t){return n>t.population?n:t.population},0),u=function(n){return n*330/t},i,r;console.log(t);i=document.querySelector(".chart");r=n.map(function(n){return"<div>"+n.year+"<span data-width='"+u(n.population)+"px' style='width: 0;visibility: hidden;transition: width 2s ease-out'>"+n.population+"<\/div>"});i.innerHTML=r.join("");setTimeout(f,500)})();